<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #000;
            color: #fff;
            text-align: center;
            margin: 0;
            padding: 0;
        }
        #timer-container {
            margin-top: 20px;
            font-size: 24px;
            background: #F50057;
            padding: 15px;
            border-radius: 10px;
            display: inline-block;
            position: relative;
            width: 250px;
        }
        #title {
            position: absolute;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 16px;
            font-weight: bold;
            color: white;
        }
        #level {
            position: absolute;
            bottom: 5px;
            right: 10px;
            font-size: 14px;
            font-weight: bold;
            color: yellow;
        }
        #period-text {
            font-size: 18px;
            margin-top: 25px;
        }
        #timer {
            font-size: 24px;
            font-weight: bold;
            letter-spacing: 2px;
        }
        .buttons {
            margin-top: 40px;
        }
        .btn {
            display: inline-block;
            padding: 10px 20px;
            font-size: 18px;
            color: white;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            margin: 10px;
        }
        .btn-red { background-color: #FF1744; }
        .btn-green { background-color: #00C853; }
        .btn-teal { background-color: #009688; }
        .btn:disabled {
            background-color: gray;
            cursor: not-allowed;
        }
        iframe {
            width: 90%;
            height: 400px;
            border: none;
            margin-top: 20px;
            border-radius: 10px;
        }
    </style>
</head>
<body>

    <div id="timer-container">
        <div id="title">@subodh_soni_100k</div>
        <div id="level">[ MAX Lv.7 ]</div> 
        <div id="period-text">Period: Loading...</div>
        <div id="timer">00 : 00</div>
    </div>

    <div class="buttons">
        <button class="btn btn-red" onclick="generateNumber()" id="btn-number">Loading...</button>
        <button class="btn btn-green" onclick="generateBigSmall()" id="btn-bigsmall">Loading...</button>
        <button class="btn btn-teal" onclick="openTelegram()">Join Telegram</button>
    </div>

    <iframe src="https://okwinslots2.com/#/register?invitationCode=3668110536053"></iframe>

    <script>
        let lastPeriod = "";
        let activateDateTime = "2025-03-10 12:00"; // **Activate Date & Time (YYYY-MM-DD HH:MM)**
        let expiryDateTime = "2025-03-14 10:00"; // **Expiry Date & Time**
        let lastGeneratedNumber = null;
        let lastGeneratedBigSmall = null;
        let isActivated = false;
        let expired = false;

        function updateTimer() {
            let now = new Date();
            let seconds = now.getUTCSeconds();
            let remainingSeconds = 60 - seconds;
            let minutes = now.getUTCHours() * 60 + now.getUTCMinutes();

            let period = new Date().toISOString().slice(0, 10).replace(/-/g, '') + (10001 + minutes);
            document.getElementById("period-text").innerText = "Period: " + period;
            document.getElementById("timer").innerText = `00 : ${remainingSeconds.toString().padStart(2, '0')}`;

            if (lastPeriod !== period) {
                lastPeriod = period;
                lastGeneratedNumber = null; 
                lastGeneratedBigSmall = null;
            }

            checkActivation();
            checkExpiry();
        }

        function checkActivation() {
            let now = new Date();
            let activateTime = new Date(activateDateTime);
            let expiry = new Date(expiryDateTime);

            let btnNumber = document.getElementById("btn-number");
            let btnBigSmall = document.getElementById("btn-bigsmall");

            if (now < activateTime) {
                let timeDiff = activateTime - now;
                let hh = Math.floor(timeDiff / (1000 * 60 * 60));
                let mm = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
                let ss = Math.floor((timeDiff % (1000 * 60)) / 1000);

                btnNumber.innerText = `Not Active Yet! (${hh}:${mm}:${ss})`;
                btnBigSmall.innerText = `Not Active Yet! (${hh}:${mm}:${ss})`;
                btnNumber.disabled = true;
                btnBigSmall.disabled = true;
            } 
            else if (now >= activateTime && now < expiry) {
                isActivated = true;
                let timeDiff = expiry - now;
                let hh = Math.floor(timeDiff / (1000 * 60 * 60));
                let mm = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
                let ss = Math.floor((timeDiff % (1000 * 60)) / 1000);

                btnNumber.innerText = `Number (${hh}:${mm}:${ss})`;
                btnBigSmall.innerText = `Big Samll (${hh}:${mm}:${ss})`;
                btnNumber.disabled = false;
                btnBigSmall.disabled = false;
            } 
        }

        function checkExpiry() {
            let now = new Date();
            let expiry = new Date(expiryDateTime);

            if (now >= expiry) {
                expired = true;
                document.getElementById("btn-number").innerText = "Expired!";
                document.getElementById("btn-bigsmall").innerText = "Expired!";
                document.getElementById("btn-number").disabled = true;
                document.getElementById("btn-bigsmall").disabled = true;
            }
        }

        function generateNumber() {
            if (!isActivated) {
                alert("Game Not Active Yet!");
                return;
            }
            if (expired) {
                alert("Game Expired!");
                return;
            }
            if (lastGeneratedNumber !== null) {
                alert("@subodh_soni_100k ➝ Waiting for next period!");
                return;
            }
            lastGeneratedNumber = Math.floor(Math.random() * 10);
            alert("@subodh_soni_100k ➝ Your Number: " + lastGeneratedNumber);
        }

        function generateBigSmall() {
            if (!isActivated) {
                alert("Game Not Active Yet!");
                return;
            }
            if (expired) {
                alert("Game Expired!");
                return;
            }
            if (lastGeneratedBigSmall !== null) {
                alert("@subodh_soni_100k ➝ Waiting for next period!");
                return;
            }
            lastGeneratedBigSmall = Math.random() < 0.5 ? "Big" : "Small";
            alert("@subodh_soni_100k ➝ Result: " + lastGeneratedBigSmall);
        }

        function openTelegram() {
            window.location.href = "https://t.me/okwin_s";
        }

        setInterval(updateTimer, 1000);
        updateTimer();
    </script>

</body>
</html>
